controllers = angular.module('controllers')
controllers.controller("SongController", [ '$scope', '$routeParams', '$location', '$resource', '$route', '$templateCache'
  ($scope,$routeParams,$location,$resource,$route,$templateCache)->
    Song = $resource('/songs/:songId', { userId: "@id", format: 'json' })
    Song.get({songId: $routeParams.songId},
      ((song) ->
        $scope.song = song
        MM.VideoHandler.onReady([song])
      ),
      (httpResponse)-> $scope.song = null
    )
])

